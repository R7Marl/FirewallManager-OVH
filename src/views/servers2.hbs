<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Dashboard - Suited.Network</title>

  <!-- Google Font: Source Sans Pro -->
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,400i,700&display=fallback">
  <!-- Font Awesome Icons -->
  <link rel="stylesheet" href="../../assets/plugins/fontawesome-free/css/all.min.css">
  <!-- overlayScrollbars -->
  <link rel="stylesheet" href="../../assets/plugins/overlayScrollbars/css/OverlayScrollbars.min.css">
  <link rel="stylesheet" href="../../assets/plugins/toastr/toastr.min.css">
  <!-- Theme style -->
  <link rel="stylesheet" href="../../assets/dist/css/adminlte.min.css">
</head>
<body class="hold-transition dark-mode sidebar-mini layout-fixed layout-navbar-fixed layout-footer-fixed">
<div class="wrapper">

  <!-- Preloader -->
  <div class="preloader flex-column justify-content-center align-items-center">
    <img class="animation__wobble" src="../../assets/img/logo.png" alt="SuitedNetwork" height="60" width="60">
  </div>

  <!-- Navbar -->
  <nav class="main-header navbar navbar-expand navbar-dark">
    <!-- Left navbar links -->
    <ul class="navbar-nav">
      <li class="nav-item">
        <a class="nav-link" data-widget="pushmenu" href="#" role="button"><i class="fas fa-bars"></i></a>
      </li>
      <li class="nav-item d-none d-sm-inline-block">
        <a href="index3.html" class="nav-link">Home</a>
      </li>
      <li class="nav-item d-none d-sm-inline-block">
        <a href="#" class="nav-link">Contact</a>
      </li>
    </ul>


      <!-- Messages Dropdown Menu -->
     
  <aside class="main-sidebar sidebar-dark-primary elevation-4">
    <!-- Brand Logo -->
    <a href="index3.html" class="brand-link">
      <img src="../../assets/img/logo.png" alt="Logo" class="brand-image img-circle elevation-3" style="opacity: .8">
      <span class="brand-text font-weight-light">SuitedNetwork</span>
    </a>

<div class="sidebar">
      <div class="user-panel mt-3 pb-3 mb-3 d-flex">
        <div class="info">
          <a href="/profile" class="d-block">{{user}}</a>
          <a href="/logout" class="d-block" style="color: red;">Logout</a>
        </div>
      </div>

      <!-- SidebarSearch Form -->
     
  <!-- Sidebar Menu -->
      <nav class="mt-2">
        <ul class="nav nav-pills nav-sidebar flex-column" data-widget="treeview" role="menu" data-accordion="false">
          <li class="nav-item">
            <a href="#" class="nav-link">
              <i class="nav-icon fas fa-home"></i>
              <p>
                Home
              </p>
            </a>
          </li>
          <li class="nav-item">
            <a href="#" class="nav-link">
              <i class="nav-icon fas fa-user-circle"></i>
              <p>
                Account
              </p>
            </a>
          </li>
          <li class="nav-item">
            <a href="#" class="nav-link">
              <i class="nav-icon fas fa-server"></i>
              <p>
                My Services
              </p>
            </a>
          </li>
          <li class="nav-item">
            <a href="#" class="nav-link">
              <i class="nav-icon fas fa-file-invoice-dollar"></i>
              <p>
                Invoices
              </p>
            </a>
          </li>
          <li class="nav-item">
            <a href="#" class="nav-link">
              <i class="nav-icon fas fa-bullhorn"></i>
              <p>
                Support
              </p>
            </a>
          </li>
          <li class="nav-item">
            <a href="#" class="nav-link">
              <i class="nav-icon fas fa-shield-alt"></i>
              <p>
                Firewall Manager
              </p>
            </a>
          </li>
          <li class="nav-item">
            <a href="#" class="nav-link">
              <i class="nav-icon fas fa-heart"></i>
              <p>
                Status Page
              </p>
            </a>
          </li>
        </ul>
      </nav>
      <!-- /.sidebar-menu -->
    </div>
    <!-- /.sidebar -->
  </aside>
</div>
  <!-- Content Wrapper. Contains page content -->
  <div class="content-wrapper">
    <!-- Content Header (Page header) -->
    <div class="content-header">
      <div class="container-fluid">
        <div class="row mb-2">
          <div class="col-sm-6">
            <h1 class="m-0">Dashboard v2</h1>
          </div><!-- /.col -->
          <div class="col-sm-6">
            <ol class="breadcrumb float-sm-right">
              <li class="breadcrumb-item"><a href="#">Home</a></li>
              <li class="breadcrumb-item active">Dashboard v2</li>
            </ol>
          </div><!-- /.col -->
        </div><!-- /.row -->
      </div><!-- /.container-fluid -->
    </div>
    <!-- /.content-header -->

    <!-- Main content -->
    <section class="content">
      
      <div class="container-fluid">
        <div class="row">
          <div class="col-12 col-sm-6 col-md-3">
            <div class="info-box">
              <span class="info-box-icon bg-info elevation-1"><i class="fas fa-cog"></i></span>

              <div class="info-box-content">
                <span class="info-box-text">Your servers:</span>
                <span class="info-box-number">
                  {{servers.length}}
                </span>
              </div>
            </div>
          </div>
          <div class="container-fluid">
            {{#if success}}
            <div class="alert alert-success alert-dismissible fade show" role="alert">
              <strong>Success:</strong> {{success}}
              <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            {{/if}}
            {{#if message}}
            <div class="alert alert-danger alert-dismissible fade show" role="alert">
              <strong>Error:</strong> {{message}}
              <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            {{/if}}

        <div class="row">
          <div class="col-12">
            <div class="card">
              <div class="card-header">
                <h3 class="card-title">Firewall on this IP: {{IP}}</h3>
                <h4 class="card-title">Reverse Hostname: {{hostname.reverse}}                <a class="btn btn-app" data-toggle="modal" data-target="#modal-hostname">
                  <i class="fas fa-edit"></i> Edit
                </a></h4>
              </div>
              <div class="card-body">
                <table id="example2" class="table table-bordered table-hover">
                  <thead>
                  <tr>
                    <th>Sequence</th>
                    <th>Protocol</th>
                    <th>Destination Port</th>
                    <th>Action</th>
                    <th>Source Port</th>
                    <th>Source IP</th>
                    <th>Creation Date</th>
                    <th></th>
                  </tr>
                  </thead>
              {{#each firewall}}
                  <tbody>
                      <tr>
                        <td>{{sequence}}</td>
                        <td>{{#ifEquals protocol "tcp"}}
                            TCP
                            {{/ifEquals}}
                        </td>
                        <td>{{destinationPort}}</td>
                        <td>{{#ifEquals action "permit"}}
                            Accept
                            {{else}}
                            Deny
                            {{/ifEquals}}
                        </td>
                        <td>{{#ifEquals sourcePort null}}
                            Any
                            {{else}}
                            {{sourcePort}}
                            {{/ifEquals}}
                        </td>
                        <td>{{#ifEquals source "any"}}
                            Any
                            {{else}}
                            {{source}}
                            {{/ifEquals}}
                        </td>
                        <td>{{creationDate}}</td>
                        <td>
                          <a class="btn btn-app" data-toggle="modal" data-target="#modal-firewall-delete">
                            <i class="fas fa-trash"></i> Delete
                          </a></td>
                      </tr>
                  </tbody>
                  {{/each}}
                </table>
              </div>
                      <button type="button" class="btn btn-block btn-primary btn-lg" data-toggle="modal" data-target="#modal-default">Add new rule</button>
                      <button type="button" class="btn btn-block btn-secondary btn-lg" data-toggle="modal" data-target="#modal-default2">Install MySQL Community Server 8.0.24</button>
                      <button type="button" class="btn btn-block btn-secondary btn-lg" data-toggle="modal" data-target="#modal-default3">Install Node.js V17.0.0</button>
            </div>

                </div>
                  </div>
                  </div>
                  </div>
                  </div>
        </div>  
      </div>  

    </section>      
  </div>  
       <div class="modal fade" id="modal-danger">
        <div class="modal-dialog">
          <div class="modal-content bg-danger">
            <div class="modal-header">
              <h4 class="modal-title">Security</h4>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="modal-body">
              <p>Are you sure to delete this rule?</p>
              <form method="post" action="/server/{{IP}}/game/delete">
              <input type="number" class="form-control" name="id" placeholder="ID rule">
            </div>
            <div class="modal-footer justify-content-between">
              <button type="button" class="btn btn-outline-light" data-dismiss="modal">Close</button>
              <button type="submit" class="btn btn-outline-light">Yes, delete.</button>
              </form>
            </div>
          </div>
          <!-- /.modal-content -->
        </div>
        <!-- /.modal-dialog -->
      </div>

      <!-- /.modalhostname -->
                      <div class="modal fade" id="modal-hostname">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <h4 class="modal-title">Change reverse hostname</h4>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="modal-body">
             <form method="post" action="/server/{{IP}}/hostname">
                <p>Put the domain. (your.domain.com)</p>
                <input type="text" class="form-control" placeholder="domain" name="username" max="9999">
                </br>
                <p>The change may take up to 30 minutes to see.</p>
            </div>
            <div class="modal-footer justify-content-between">
              <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
              <button type="submit" class="btn btn-primary">Change</button>
              </form>
            </div>
          </div>
          <!-- /.modal-content -->
        </div>
        <!-- /.modal-dialog -->
      </div>
      <!-- /.modal -->

            <div class="modal fade" id="modal-default">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <h4 class="modal-title">Add new Rule</h4>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="modal-body">
             <form method="post" action="/server/{{IP}}/firewall/add">
             <p>Action:</p>
             <select class="form-select form-select-lg mb-3" required>
                <option value="permit">Allow</option>
                <option value="deny">Deny</option>
             </select>
             </br>
                <p>Protocol:</p>
                <select class="form-select form-select-lg mb-3" required>
                <option value="tcp">TCP</option>
                <option value="udp">UDP</option>
                <option value="icmp">ICMP</option>
                <option value="ah">AH</option>
                <option value="esp">ESP</option>
                <option value="gre">GRE</option>
                <option value="ipv4">IPV4</option>
                </select>
                </br>
                <p>Source IP (No required, optional):</p>
                <input type="text" class="form-control" placeholder="Source IP (not required, optional)" name="source" max="9999">
                </br>
                <p>Source Port (No required, optional):</p>
                <input type="text" class="form-control" placeholder="Source Port (not required, optional)" name="sourceport" max="9999">
                </br>
                <p>Destination Port (No required, optional):</p>
                <input type="text" class="form-control" placeholder="Destination Port (not required, optional)" name="destinationport" max="9999">
                </br>

            </div>
            <div class="modal-footer justify-content-between">
              <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
              <button type="submit" class="btn btn-primary">Add new rule</button>
              </form>
            </div>
          </div>
          <!-- /.modal-content -->
        </div>
        <!-- /.modal-dialog -->
      </div>
      <!-- /.modal2 mysql -->
                <div class="modal fade" id="modal-default2">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <h4 class="modal-title">Install MySQL Community Server 8.0.24</h4>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="modal-body">
             <form method="post" action="/server/{{IP}}/install/mysql">
                <p>Put the SSH data (Default connection PORT 22/TCP)</p>
                <input type="text" class="form-control" placeholder="Username" name="username" max="9999">
                </br>
                <input type="text" class="form-control" placeholder="Password" name="password" max="9999">
                </br>
                <p>The VPS must not have previous versions of MySQL or never have installed or uninstalled the application, it is recommended to reinstall the operating system before installing from here, if something goes wrong the VPS can be bugged and have to reinstall.</p>
            </div>
            <div class="modal-footer justify-content-between">
              <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
              <button type="submit" class="btn btn-primary">Install</button>
              </form>
            </div>
          </div>
          <!-- /.modal-content -->
        </div>
        <!-- /.modal-dialog -->
      </div>
  <!-- Main Footer -->
  <footer class="main-footer">
    <strong>Copyright &copy; 2022 <a href="https://suited.network">Suited.Network</a>.</strong>
    All rights reserved.
    <div class="float-right d-none d-sm-inline-block">
      <b>Version</b> 1.0.0
    </div>
  </footer>
</div>
<!-- ./wrapper -->

<!-- REQUIRED SCRIPTS -->
<!-- jQuery -->
<script src="../../assets/plugins/jquery/jquery.min.js"></script>
<!-- Bootstrap -->
<script src="../../assets/plugins/bootstrap/js/bootstrap.bundle.min.js"></script>
<!-- overlayScrollbars -->
<script src="../../assets/plugins/overlayScrollbars/js/jquery.overlayScrollbars.min.js"></script>
<!-- AdminLTE App -->
<script src="../../assets/dist/js/adminlte.js"></script>
<script src="../../assets/plugins/toastr/toastr.min.js"></script>

<!-- PAGE PLUGINS -->
<!-- jQuery Mapael -->
<script src="../../assets/plugins/jquery-mousewheel/jquery.mousewheel.js"></script>
<script src="../../assets/plugins/raphael/raphael.min.js"></script>
<script src="../../assets/plugins/jquery-mapael/jquery.mapael.min.js"></script>
<script src="../../assets/plugins/jquery-mapael/maps/usa_states.min.js"></script>
<!-- ChartJS -->
<script src="../../assets/plugins/chart.js/Chart.min.js"></script>

<!-- AdminLTE for demo purposes -->
<script src="../../assets/dist/js/demo.js"></script>
<!-- AdminLTE dashboard demo (This is only for demo purposes) -->
<script src="../../assets/dist/js/pages/dashboard2.js"></script>
</body>
</html>
